
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using vim as a mergetool in git &#8212; pydagogue 0.2 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/traditional.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting started with git gui on Windows" href="git_gui_windows.html" />
    <link rel="prev" title="Git submodules" href="git_submodules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="git_gui_windows.html" title="Getting started with git gui on Windows"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git_submodules.html" title="Git submodules"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pydagogue 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="git.html" accesskey="U">Notes and tutorials on git</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using vim as a mergetool in git</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-vim-as-a-mergetool-in-git">
<span id="vim-mergetool"></span><h1>Using vim as a mergetool in git<a class="headerlink" href="#using-vim-as-a-mergetool-in-git" title="Permalink to this headline">¶</a></h1>
<p>Setup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">merge</span><span class="o">.</span><span class="n">tool</span> <span class="n">gvimdiff</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">mergetool</span> <span class="n">prompt</span> <span class="n">false</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">merge</span><span class="o">.</span><span class="n">conflictstyle</span> <span class="n">diff3</span>
</pre></div>
</div>
<p>The last is so that we can see the base revision displayed within the merge
markers, in the merged file.  The <em>base</em> the revision that was the most recent
common basis for the two different versions implied in the merge.</p>
<p>Rebasing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="n">main</span><span class="o">-</span><span class="n">master</span>
<span class="n">git</span> <span class="n">mergetool</span>
</pre></div>
</div>
<p>Quoting from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">mergetool</span> <span class="pre">--help</span></code>:</p>
<blockquote>
<div><p>When git mergetool is invoked with this tool (either through the -t or
–tool option or the merge.tool configuration variable) the configured
command line will be invoked with $BASE set to the name of a temporary
file containing the common base for the merge, if available; $LOCAL set
to the name of a temporary file containing the contents of the file on the
current branch; $REMOTE set to the name of a temporary file containing
the contents of the file to be merged, and $MERGED set to the name of the
file to which the merge tool should write the result of the merge
resolution.</p>
</div></blockquote>
<p>Interpreting the text above in the context of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--help</span></code> - the
“current branch” will, in this case, be <code class="docutils literal notranslate"><span class="pre">main-master</span></code> - more generally it will
be the “upstream” branch in the rebase command line, or “newbase” if you used
the <code class="docutils literal notranslate"><span class="pre">--onto</span> <span class="pre">&lt;newbase&gt;</span></code> option.</p>
<p>On my screen, there are four windows, three at the top, and one below.  (This is
for git 1.7.4.1.  Versions at least until 1.7.2 had three windows, vertically
arranged, being LOCAL, MERGED and REMOTE in the terms below).  In a rebase, the
ones at the top will be</p>
<ul class="simple">
<li><p>LOCAL : the current branch (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code>). In the case of a rebase this will
be the upstream branch (or &lt;newbase&gt; from <code class="docutils literal notranslate"><span class="pre">--onto</span></code>).  Here it would be
<code class="docutils literal notranslate"><span class="pre">main-master</span></code>.</p></li>
<li><p>BASE : the common basis against which LOCAL and REMOTE have changed. This
allows us to see what LOCAL and REMOTE have changed against.</p></li>
<li><p>REMOTE : the file as for the changes we are adding with the rebase.  In our
case, that would be the branch we were on when we issued <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span>
<span class="pre">main-master</span></code>.</p></li>
</ul>
<p>The one at the bottom is:</p>
<ul class="simple">
<li><p>MERGED : the file to which we write the changes, to be selected from LOCAL
(new changes) REMOTE (upstream changes).  This is the file with the merge
markers in it. If you have <em>conflictstyle</em> above set to <code class="docutils literal notranslate"><span class="pre">diff3</span></code> you will
see the LOCAL, REMOTE and BASE versions within the mergemarker block.</p></li>
</ul>
<p>Now, time to go through the lower pane, pulling in changes from the “upstream”
(left) pane, or the “rebase changes” (right) pane, as in one of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">diffg</span> <span class="n">LO</span>
<span class="p">:</span><span class="n">diffg</span> <span class="n">BA</span>
<span class="p">:</span><span class="n">diffg</span> <span class="n">RE</span>
</pre></div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="git_submodules.html"
                        title="previous chapter">Git submodules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="git_gui_windows.html"
                        title="next chapter">Getting started with git gui on Windows</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/vim_mergetool.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="git_gui_windows.html" title="Getting started with git gui on Windows"
             >next</a> |</li>
        <li class="right" >
          <a href="git_submodules.html" title="Git submodules"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pydagogue 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="git.html" >Notes and tutorials on git</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using vim as a mergetool in git</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2016 - Matthew Brett.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>