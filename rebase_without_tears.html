
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rebase without tears &#8212; pydagogue 0.2 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/traditional.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pain in the dots" href="pain_in_dots.html" />
    <link rel="prev" title="Git foundations" href="foundation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="pain_in_dots.html" title="Pain in the dots"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="foundation.html" title="Git foundations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pydagogue 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="git.html" accesskey="U">Notes and tutorials on git</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Rebase without tears</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="rebase-without-tears">
<h1>Rebase without tears<a class="headerlink" href="#rebase-without-tears" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-i-wrote-this-page">
<h2>Why I wrote this page<a class="headerlink" href="#why-i-wrote-this-page" title="Permalink to this headline">¶</a></h2>
<p>I’m looking at the <a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html">git-rebase man page</a> now.  I may
not be alone in finding it hard to understand, and easy to forget.  I have
twice or three times worked out how it worked, and then forgotten, and wished I
had written something down to explain it to myself.  Here is that explanation.</p>
</div>
<div class="section" id="what-is-this-rebase-of-which-you-speak">
<h2>What is this “rebase” of which you speak?<a class="headerlink" href="#what-is-this-rebase-of-which-you-speak" title="Permalink to this headline">¶</a></h2>
<p>Actually it’s a little difficult to explain.  Rebasing is the process of taking
a fragment of git change history, and rewriting that history as if it had begun
at a different commit.  It’s easiest to explain by example, and there are some
examples later in this page.  See also the <a class="reference external" href="http://progit.org/book/ch3-6.html">Pro-Git chapter on rebasing</a></p>
</div>
<div class="section" id="your-actual-rebase">
<span id="actual-rebase"></span><h2>Your actual rebase<a class="headerlink" href="#your-actual-rebase" title="Permalink to this headline">¶</a></h2>
<p>I like to think of rebase in its full form, because the full form helps to
remind me of what it is doing.  Here’s the full form of most rebase commands
<a class="footnote-reference brackets" href="#to-root" id="id1">1</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="o">&lt;</span><span class="n">graft</span><span class="o">-</span><span class="n">point</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">exclude</span><span class="o">-</span><span class="n">from</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">include</span><span class="o">-</span><span class="n">from</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>I’m using different names from the <code class="docutils literal notranslate"><span class="pre">git-rebase</span></code> man page - see
<a class="footnote-reference brackets" href="#manpage-names" id="id2">2</a>.</p>
<p>The shorter forms use defaults for things you don’t specify:</p>
<ul class="simple">
<li><p>If you don’t specify <code class="docutils literal notranslate"><span class="pre">--onto</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;graft-point&gt;</span></code> defaults to
<code class="docutils literal notranslate"><span class="pre">&lt;exclude-from&gt;</span></code></p></li>
<li><p>If you don’t specify an <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> defaults to the
current branch.</p></li>
</ul>
<div class="section" id="which-commits-will-rebase-apply">
<span id="which-commits"></span><h3>Which commits will rebase apply?<a class="headerlink" href="#which-commits-will-rebase-apply" title="Permalink to this headline">¶</a></h3>
<p>Rebase will apply all the commits found by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span> <span class="o">&lt;</span><span class="n">exclude</span><span class="o">-</span><span class="n">from</span><span class="o">&gt;..&lt;</span><span class="n">include</span><span class="o">-</span><span class="n">from</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>These are the commits that are reachable from <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> that are not
reachable from <code class="docutils literal notranslate"><span class="pre">&lt;exclude-from&gt;</span></code>.  See <a class="reference internal" href="git_log_dots.html#git-log-two-dots"><span class="std std-ref">Logging with two dots</span></a>.</p>
</div>
<div class="section" id="which-branch-does-rebase-modify">
<span id="which-branch"></span><h3>Which branch does rebase modify?<a class="headerlink" href="#which-branch-does-rebase-modify" title="Permalink to this headline">¶</a></h3>
<p>rebase modifies the <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> branch.  If you don’t specify
<code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> it will modify the default for <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code>, that is, the
current branch.</p>
</div>
</div>
<div class="section" id="basic-example">
<span id="id3"></span><h2>Basic example<a class="headerlink" href="#basic-example" title="Permalink to this headline">¶</a></h2>
<p>Let’s go through the man page examples.  Here’s a history tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span> <span class="n">topic</span>
     <span class="o">/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
</pre></div>
</div>
<p>We want to take the novel contents of the <code class="docutils literal notranslate"><span class="pre">topic</span></code> branch (<code class="docutils literal notranslate"><span class="pre">A,</span> <span class="pre">B,</span> <span class="pre">C</span></code>) and
regraft it so that it starts at the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="n">A</span><span class="s1">&#39;--B&#39;</span><span class="o">--</span><span class="n">C</span><span class="s1">&#39; topic</span>
             <span class="o">/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
</pre></div>
</div>
<p>Let’s do something to ease the explanation, and tag the divergence point <code class="docutils literal notranslate"><span class="pre">E</span></code>
thus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="n">divergence</span><span class="o">-</span><span class="n">point</span> <span class="n">topic</span><span class="o">~</span><span class="mi">3</span> <span class="c1"># E</span>
</pre></div>
</div>
<p>Obviously that gives us:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     <span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span> <span class="n">topic</span>
    <span class="o">/</span>
    <span class="o">|</span> <span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
    <span class="o">|/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span>  <span class="p">(</span><span class="n">tag</span><span class="p">)</span> <span class="n">divergence</span><span class="o">-</span><span class="n">point</span>
</pre></div>
</div>
<p>Reading the <a class="reference internal" href="#actual-rebase"><span class="std std-ref">Your actual rebase</span></a> command, we suspect the command we want is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="n">divergence</span><span class="o">-</span><span class="n">point</span> <span class="n">topic</span>
</pre></div>
</div>
<p>And indeed, that does give us what we want.  However we had a to make a tag for
the divergence point, and that was a bit annoying. Can we get away without that?</p>
<p>Yes, because because the meaning of <code class="docutils literal notranslate"><span class="pre">&lt;exclude-from&gt;</span> <span class="pre">&lt;include-from&gt;</span></code> above is
to collect the commits that you are going to apply.  See <a class="reference internal" href="#which-commits"><span class="std std-ref">Which commits will rebase apply?</span></a>
for an explanation.  The commits wil be those shown by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span>
<span class="pre">&lt;exclude-from&gt;..&lt;include-from&gt;</span></code>.  I took the liberty of making a repository to
match the history above.  Here is the result of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span>
<span class="pre">master..topic</span></code>, before the rebase:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="n">de3e90</span> <span class="n">C</span>
<span class="mi">9</span><span class="n">dcbae2</span> <span class="n">B</span>
<span class="n">cc3741a</span> <span class="n">A</span>
</pre></div>
</div>
<p>And of course that is the same as <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--oneline</span> <span class="pre">divergence-point..topic</span></code>.
So we could also do the rebase command with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="n">master</span> <span class="n">topic</span>
</pre></div>
</div>
<p>And, in fact, if you don’t specify the <code class="docutils literal notranslate"><span class="pre">--onto</span></code> option, then rebase assumes
you want to graft onto the <code class="docutils literal notranslate"><span class="pre">&lt;exclude-from&gt;</span></code> position, so you could also do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="n">master</span> <span class="n">topic</span>
</pre></div>
</div>
<p>and in fact, if you don’t specify the <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> position, rebase assumes
that you want <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> to be the state of the current branch, so you
could also do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">topic</span> <span class="c1"># unless you are on ``topic`` already</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">master</span>
</pre></div>
</div>
</div>
<div class="section" id="other-examples">
<h2>Other examples<a class="headerlink" href="#other-examples" title="Permalink to this headline">¶</a></h2>
<p>Here is another example from the <code class="docutils literal notranslate"><span class="pre">git-rebase</span></code> man page.  We want to go from
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span>  <span class="n">master</span>
     \
      <span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span>  <span class="nb">next</span>
                       \
                        <span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span>  <span class="n">topic</span>
</pre></div>
</div>
<p>to this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span>  <span class="n">master</span>
    <span class="o">|</span>            \
    <span class="o">|</span>             <span class="n">o</span><span class="s1">&#39;--o&#39;</span><span class="o">--</span><span class="n">o</span><span class="s1">&#39;  topic</span>
     \
      <span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span><span class="o">---</span><span class="n">o</span>  <span class="nb">next</span>
</pre></div>
</div>
<p>How?   Let’s check the <a class="reference internal" href="#actual-rebase"><span class="std std-ref">Your actual rebase</span></a> command.  Maybe it is this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="nb">next</span> <span class="n">topic</span>
</pre></div>
</div>
<p>Yup, that’s it!  You understand rebase!</p>
<p>Now we want to go from this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                        <span class="n">H</span><span class="o">---</span><span class="n">I</span><span class="o">---</span><span class="n">J</span> <span class="n">topicB</span>
                       <span class="o">/</span>
              <span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span>  <span class="n">topicA</span>
             <span class="o">/</span>
<span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span><span class="o">---</span><span class="n">D</span>  <span class="n">master</span>
</pre></div>
</div>
<p>to this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>             <span class="n">H</span><span class="s1">&#39;--I&#39;</span><span class="o">--</span><span class="n">J</span><span class="s1">&#39;  topicB</span>
            <span class="o">/</span>
            <span class="o">|</span> <span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span>  <span class="n">topicA</span>
            <span class="o">|/</span>
<span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span><span class="o">---</span><span class="n">D</span>  <span class="n">master</span>
</pre></div>
</div>
<p>We check the <a class="reference internal" href="#actual-rebase"><span class="std std-ref">Your actual rebase</span></a> command.  Could it be this?:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="n">topicA</span> <span class="n">topicB</span>
</pre></div>
</div>
<p>Could it be anything else?  Congratulations, you are now a rebase master.</p>
</div>
<div class="section" id="safety">
<h2>Safety<a class="headerlink" href="#safety" title="Permalink to this headline">¶</a></h2>
<p>Summary: <strong>always make a new branch before doing a rebase</strong></p>
<p>You’ll see from <a class="reference internal" href="#which-branch"><span class="std std-ref">Which branch does rebase modify?</span></a> that when you a rebase you will change the
branch you are rebasing.  As you remember from the <a class="reference internal" href="#basic-example"><span class="std std-ref">Basic example</span></a>, if you
do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="n">master</span> <span class="n">topic</span>
</pre></div>
</div>
<p>on this history graph:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span> <span class="n">topic</span>
     <span class="o">/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
</pre></div>
</div>
<p>then you’ll get this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="n">A</span><span class="s1">&#39;--B&#39;</span><span class="o">--</span><span class="n">C</span><span class="s1">&#39; topic</span>
             <span class="o">/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
</pre></div>
</div>
<p>If you only have branches <code class="docutils literal notranslate"><span class="pre">master</span></code> and <code class="docutils literal notranslate"><span class="pre">topic</span></code> then you have just orphaned
commits <code class="docutils literal notranslate"><span class="pre">A,</span> <span class="pre">B,</span> <span class="pre">C</span></code> which will in due course get cleaned out of your repository.
You might want to keep track of where you were before.  You might want to do
that in case you made a mistake and need to retrace your steps.  The easiest way
to do this, is to make a copy of the branch before doing the rebase, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">topic</span><span class="o">-</span><span class="n">rebased</span> <span class="n">topic</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="n">master</span> <span class="n">topic</span><span class="o">-</span><span class="n">rebased</span>
</pre></div>
</div>
<p>or, if you are already on <code class="docutils literal notranslate"><span class="pre">topic</span></code> and you want to use the shorthand form of
rebase:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="n">topic</span><span class="o">-</span><span class="n">rebased</span> <span class="n">topic</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">topic</span><span class="o">-</span><span class="n">rebased</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="n">master</span>
</pre></div>
</div>
<p>Now you have left <code class="docutils literal notranslate"><span class="pre">topic</span></code> to be a branch that records where you were before:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="n">A</span><span class="s1">&#39;--B&#39;</span><span class="o">--</span><span class="n">C</span><span class="s1">&#39; topic-rebased</span>
             <span class="o">/</span>
<span class="n">D</span><span class="o">---</span><span class="n">E</span><span class="o">---</span><span class="n">F</span><span class="o">---</span><span class="n">G</span> <span class="n">master</span>
     \
      <span class="n">A</span><span class="o">---</span><span class="n">B</span><span class="o">---</span><span class="n">C</span> <span class="n">topic</span>
</pre></div>
</div>
<p>If you forget to make a new branch before rebase, and you do need to go back,
then you can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span></code>.</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="to-root"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>I’ve missed out the <code class="docutils literal notranslate"><span class="pre">--interactive</span></code> option, but that doesn’t
change the logic.  There is one more substantial variation of the
<a class="reference internal" href="#actual-rebase"><span class="std std-ref">Your actual rebase</span></a> command, using <code class="docutils literal notranslate"><span class="pre">--root</span></code>.  This goes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="o">&lt;</span><span class="n">graft</span><span class="o">-</span><span class="n">point</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">root</span>   <span class="o">&lt;</span><span class="n">include</span><span class="o">-</span><span class="n">from</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>I’ve put a couple of extra spaces between <code class="docutils literal notranslate"><span class="pre">--root</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> to
emphasise that <code class="docutils literal notranslate"><span class="pre">--root</span></code> is a flag, and <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code> is an argument
with the same meaning as for the normal rebase command.</p>
<p>If you do <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;include-from&gt;</span></code> and then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>, you’ll see all
the commits down to and including the first (root) commit of that branch.
The root commit is a commit without a parent.  The <code class="docutils literal notranslate"><span class="pre">--root</span></code> version of the
rebase commands then takes all the commits, from the root commit up until
<code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code>, including the root commit, and grafts them onto
<code class="docutils literal notranslate"><span class="pre">&lt;graft-point&gt;</span></code>.</p>
<p>Let’s say you somehow have two detached histories in your repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">--</span><span class="n">B</span><span class="o">--</span><span class="n">C</span><span class="o">--</span><span class="n">D</span> <span class="n">master</span>

<span class="n">X</span><span class="o">--</span><span class="n">Y</span><span class="o">--</span><span class="n">Z</span> <span class="n">other</span><span class="o">-</span><span class="n">branch</span>
</pre></div>
</div>
<p>The root of <code class="docutils literal notranslate"><span class="pre">master</span></code> is A, and the root of <code class="docutils literal notranslate"><span class="pre">other-branch</span></code> is X.  To
attach these histories you could do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">master</span> <span class="o">--</span><span class="n">root</span>   <span class="n">other</span><span class="o">-</span><span class="n">branch</span>
</pre></div>
</div>
<p>resulting in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">--</span><span class="n">B</span><span class="o">--</span><span class="n">C</span><span class="o">--</span><span class="n">D</span> <span class="n">master</span>
          \
           <span class="n">X</span><span class="s1">&#39;--Y&#39;</span><span class="o">--</span><span class="n">Z</span><span class="s1">&#39; other-branch</span>
</pre></div>
</div>
<p>It would be annoying to have to do the same operation without the <code class="docutils literal notranslate"><span class="pre">--root</span></code>
option, because you’d first have to find the root commit, apply the root
commit, and then rebase the rest of the X-Y-Z history on top of that, rather
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="n">root</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">other</span><span class="o">-</span><span class="n">branch</span> <span class="n">other</span><span class="o">-</span><span class="n">branch</span><span class="o">~</span><span class="mi">2</span> <span class="c1"># tags X commit</span>
<span class="n">git</span> <span class="n">branch</span> <span class="n">tmp</span><span class="o">-</span><span class="n">branch</span> <span class="n">master</span> <span class="c1"># start rebase at master</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">tmp</span><span class="o">-</span><span class="n">branch</span>
<span class="n">git</span> <span class="n">cherry</span><span class="o">-</span><span class="n">pick</span> <span class="n">root</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">other</span><span class="o">-</span><span class="n">branch</span> <span class="c1"># apply root commit</span>
<span class="n">git</span> <span class="n">rebase</span> <span class="o">--</span><span class="n">onto</span> <span class="n">tmp</span><span class="o">-</span><span class="n">branch</span> <span class="n">root</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">other</span><span class="o">-</span><span class="n">branch</span> <span class="n">other</span><span class="o">-</span><span class="n">branch</span>
<span class="c1"># You are now on the rebased other-branch</span>
<span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">tmp</span><span class="o">-</span><span class="n">branch</span>
</pre></div>
</div>
</dd>
<dt class="label" id="manpage-names"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>I’m using different names for the command options, compared
to the <code class="docutils literal notranslate"><span class="pre">git-rebase</span></code> man page.  The man page uses:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;newbase&gt;</span></code> for my <code class="docutils literal notranslate"><span class="pre">&lt;graft-point&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;upstream&gt;</span></code> for my <code class="docutils literal notranslate"><span class="pre">&lt;exclude-from&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;branch&gt;</span></code> for my <code class="docutils literal notranslate"><span class="pre">&lt;include-from&gt;</span></code></p></li>
</ul>
</dd>
</dl>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Rebase without tears</a><ul>
<li><a class="reference internal" href="#why-i-wrote-this-page">Why I wrote this page</a></li>
<li><a class="reference internal" href="#what-is-this-rebase-of-which-you-speak">What is this “rebase” of which you speak?</a></li>
<li><a class="reference internal" href="#your-actual-rebase">Your actual rebase</a><ul>
<li><a class="reference internal" href="#which-commits-will-rebase-apply">Which commits will rebase apply?</a></li>
<li><a class="reference internal" href="#which-branch-does-rebase-modify">Which branch does rebase modify?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-example">Basic example</a></li>
<li><a class="reference internal" href="#other-examples">Other examples</a></li>
<li><a class="reference internal" href="#safety">Safety</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="foundation.html"
                        title="previous chapter">Git foundations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pain_in_dots.html"
                        title="next chapter">Pain in the dots</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/rebase_without_tears.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="pain_in_dots.html" title="Pain in the dots"
             >next</a> |</li>
        <li class="right" >
          <a href="foundation.html" title="Git foundations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pydagogue 0.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="git.html" >Notes and tutorials on git</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Rebase without tears</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2016 - Matthew Brett.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>